**Dockerfile是构建docker镜像的方法挥着称为语言，docker可以根据Dockerfile中的指令自动化的去构建对象。**

构建步骤：

1. 编写 `Dockerfile`
2. `docker build`
3. `docker run`
4. `docker push` (可以推送至`Docker Hub`,或者是阿里云镜像仓库)

官方既然可以制作镜像，那么我们也可以，只要会写 `Dockerfile` 即可。

`dockerfile` 是面向开发的，我们以后要发布项目，就要制作镜像，从而要编写 `DockerFile` ，该文件十分简单！

`Dockerfile` : 构建文件，定义了一切步骤

## 命令

1. `#`用于注释；

2. `FROM` : 基础镜像，例如 `FROM centos`，并且第一句话就是这个FROM指令；

3. `MAINTAINER` 镜像是谁写的，姓名加邮箱；

4. `USR` : 指定镜像中的容器用户；

5. `RUN` : 构建的时候需要运行的命令,比如在构建镜像的时候同时安装一些软件，就使用RUN，这要和CMD指令区别。

6. `ADD`: 添加需要的别的东西到镜像中的,如果添加的是压缩包的时候，还会自动解压

7. `WORKDIR` : 镜像的工作目录,是一进入容器就默认进入的目录，如果不指定的话默认是 `/`；

8. `ENV` : 

9. `VOLUME` : 设置要挂载的目录位置；

10. `EXPOSE` : 指定镜像中的暴露端口,只有和-P组合使用的时候才会产生作用，也就意味着EXPOSE是默认的暴露端口号，如果使用-p显示指定暴露端口的话，则这句话就会被跳过。

11. `CMD` : 启动容器后运行的命令，只有最后一个`CMD`命令有效；

    比如是构建镜像的时候输入：

    ```shell
    CMD ["ls"]
    ```

    则在构建完成这个 `DockerFile` 并运行它之后，就会看到当前目录下的内容，简单的来说就是进入容器后默认的操作。

    向追加一个命令，比如 `docker run -it mycentos:1.0 -l`,你以为是会执行 `ls -l`, 其实会报错， `-l` 会把 `ls -l` 替换掉，相当于只执行 `-l` 命令，当然会报错，但是 下面的 `ENTRYPOINT` 就不会报错，可以追加命令。

12. `ENTRYPOINT` : 可以追加命令

13. `COPY` : 将文件拷贝至当前镜像中

